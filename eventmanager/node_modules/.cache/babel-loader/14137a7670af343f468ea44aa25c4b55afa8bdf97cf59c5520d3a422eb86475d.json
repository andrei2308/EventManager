{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst url_1 = require(\"url\");\nclass BasePath {\n  constructor(server) {\n    this.variables = {};\n    this.path = '';\n    // break the url into parts\n    // baseUrl param added to make the parsing of relative paths go well\n    const serverUrl = new url_1.URL(server.url, 'http://localhost');\n    let urlPath = decodeURI(serverUrl.pathname).replace(/\\/$/, '');\n    if (/{\\w+}/.test(urlPath)) {\n      // has variable that we need to check out\n      urlPath = urlPath.replace(/{(\\w+)}/g, (substring, p1) => `:${p1}`);\n    }\n    this.path = urlPath;\n    for (const variable in server.variables) {\n      if (server.variables.hasOwnProperty(variable)) {\n        this.variables[variable] = {\n          enum: server.variables[variable].enum\n        };\n      }\n    }\n  }\n  hasVariables() {\n    return Object.keys(this.variables).length > 0;\n  }\n}\nexports.default = BasePath;","map":{"version":3,"names":["url_1","require","BasePath","constructor","server","variables","path","serverUrl","URL","url","urlPath","decodeURI","pathname","replace","test","substring","p1","variable","hasOwnProperty","enum","hasVariables","Object","keys","length","exports","default"],"sources":["../../src/BasePath.ts"],"sourcesContent":[null],"mappings":";;;;;AACA,MAAAA,KAAA,GAAAC,OAAA;AACA,MAAqBC,QAAQ;EAI3BC,YAAYC,MAA8B;IAH1B,KAAAC,SAAS,GAA0C,EAAE;IACrD,KAAAC,IAAI,GAAW,EAAE;IAG/B;IACA;IACA,MAAMC,SAAS,GAAG,IAAIP,KAAA,CAAAQ,GAAG,CAACJ,MAAM,CAACK,GAAG,EAAE,kBAAkB,CAAC;IACzD,IAAIC,OAAO,GAAGC,SAAS,CAACJ,SAAS,CAACK,QAAQ,CAAC,CAACC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC9D,IAAI,OAAO,CAACC,IAAI,CAACJ,OAAO,CAAC,EAAE;MACzB;MACAA,OAAO,GAAGA,OAAO,CAACG,OAAO,CAAC,UAAU,EAAE,CAACE,SAAS,EAAEC,EAAE,KAAK,IAAIA,EAAE,EAAE,CAAC;;IAEpE,IAAI,CAACV,IAAI,GAAGI,OAAO;IACnB,KAAK,MAAMO,QAAQ,IAAIb,MAAM,CAACC,SAAS,EAAE;MACvC,IAAID,MAAM,CAACC,SAAS,CAACa,cAAc,CAACD,QAAQ,CAAC,EAAE;QAC7C,IAAI,CAACZ,SAAS,CAACY,QAAQ,CAAC,GAAG;UAAEE,IAAI,EAAEf,MAAM,CAACC,SAAS,CAACY,QAAQ,CAAC,CAACE;QAAI,CAAE;;;EAG1E;EAEOC,YAAYA,CAAA;IACjB,OAAOC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACjB,SAAS,CAAC,CAACkB,MAAM,GAAG,CAAC;EAC/C;;AAvBFC,OAAA,CAAAC,OAAA,GAAAvB,QAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}