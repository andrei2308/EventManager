{"ast":null,"code":"\"use strict\";\n\nconst esprima = require('esprima');\nmodule.exports = function difunc(dependencies, func, thisArg) {\n  if (typeof func !== 'function') {\n    throw new Error(`${func} was not typeof function`);\n  }\n  if (!dependencies || typeof dependencies !== 'object') {\n    throw new Error(`${dependencies} was not typeof 'object' or was falsey`);\n  }\n  const tokens = esprima.tokenize(func.toString());\n  const params = [];\n  if (tokens[0].type === 'Keyword') {\n    tokens.shift();\n    if (tokens[0].type === 'Identifier') {\n      tokens.shift();\n    }\n  }\n  for (let token, i = 0, len = tokens.length; i < len; i++) {\n    token = tokens[i];\n    if (token.type === 'Identifier') {\n      if (!(token.value in dependencies)) {\n        throw new Error(`${token.value} was not defined in dependencies`);\n      }\n      params.push(dependencies[token.value]);\n    } else if (token.type === 'Punctuator') {\n      if (token.value === '(' || token.value === ',') {\n        continue;\n      } else if (token.value === '{' || token.value === '[') {\n        throw new Error('destructuring is not supported');\n      } else if (token.value === '=') {\n        throw new Error('default parameters are not supported');\n      }\n      break;\n    } else {\n      break;\n    }\n  }\n  return func.apply(thisArg, params);\n};","map":{"version":3,"names":["esprima","require","module","exports","difunc","dependencies","func","thisArg","Error","tokens","tokenize","toString","params","type","shift","token","i","len","length","value","push","apply"],"sources":["C:/Users/Andrei/node_modules/difunc/index.js"],"sourcesContent":["\"use strict\";\nconst esprima = require('esprima');\n\nmodule.exports = function difunc(dependencies, func, thisArg) {\n  if (typeof func !== 'function') {\n    throw new Error(`${func} was not typeof function`);\n  }\n\n  if (!dependencies || typeof dependencies !== 'object') {\n    throw new Error(`${dependencies} was not typeof 'object' or was falsey`);\n  }\n\n  const tokens = esprima.tokenize(func.toString());\n  const params = [];\n\n  if (tokens[0].type === 'Keyword') {\n    tokens.shift();\n    if (tokens[0].type === 'Identifier') {\n      tokens.shift();\n    }\n  }\n\n  for (let token, i = 0, len = tokens.length; i < len; i++) {\n    token = tokens[i];\n    if (token.type === 'Identifier') {\n      if (!(token.value in dependencies)) {\n        throw new Error(`${token.value} was not defined in dependencies`);\n      }\n      params.push(dependencies[token.value]);\n    } else if (token.type === 'Punctuator') {\n      if (token.value === '(' || token.value === ',') {\n        continue;\n      } else if(token.value === '{' || token.value === '[') {\n        throw new Error('destructuring is not supported');\n      } else if(token.value === '=') {\n        throw new Error('default parameters are not supported');\n      }\n      break;\n    } else {\n      break;\n    }\n  }\n\n  return func.apply(thisArg, params);\n};\n"],"mappings":"AAAA,YAAY;;AACZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAElCC,MAAM,CAACC,OAAO,GAAG,SAASC,MAAMA,CAACC,YAAY,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAC5D,IAAI,OAAOD,IAAI,KAAK,UAAU,EAAE;IAC9B,MAAM,IAAIE,KAAK,CAAC,GAAGF,IAAI,0BAA0B,CAAC;EACpD;EAEA,IAAI,CAACD,YAAY,IAAI,OAAOA,YAAY,KAAK,QAAQ,EAAE;IACrD,MAAM,IAAIG,KAAK,CAAC,GAAGH,YAAY,wCAAwC,CAAC;EAC1E;EAEA,MAAMI,MAAM,GAAGT,OAAO,CAACU,QAAQ,CAACJ,IAAI,CAACK,QAAQ,CAAC,CAAC,CAAC;EAChD,MAAMC,MAAM,GAAG,EAAE;EAEjB,IAAIH,MAAM,CAAC,CAAC,CAAC,CAACI,IAAI,KAAK,SAAS,EAAE;IAChCJ,MAAM,CAACK,KAAK,CAAC,CAAC;IACd,IAAIL,MAAM,CAAC,CAAC,CAAC,CAACI,IAAI,KAAK,YAAY,EAAE;MACnCJ,MAAM,CAACK,KAAK,CAAC,CAAC;IAChB;EACF;EAEA,KAAK,IAAIC,KAAK,EAAEC,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGR,MAAM,CAACS,MAAM,EAAEF,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;IACxDD,KAAK,GAAGN,MAAM,CAACO,CAAC,CAAC;IACjB,IAAID,KAAK,CAACF,IAAI,KAAK,YAAY,EAAE;MAC/B,IAAI,EAAEE,KAAK,CAACI,KAAK,IAAId,YAAY,CAAC,EAAE;QAClC,MAAM,IAAIG,KAAK,CAAC,GAAGO,KAAK,CAACI,KAAK,kCAAkC,CAAC;MACnE;MACAP,MAAM,CAACQ,IAAI,CAACf,YAAY,CAACU,KAAK,CAACI,KAAK,CAAC,CAAC;IACxC,CAAC,MAAM,IAAIJ,KAAK,CAACF,IAAI,KAAK,YAAY,EAAE;MACtC,IAAIE,KAAK,CAACI,KAAK,KAAK,GAAG,IAAIJ,KAAK,CAACI,KAAK,KAAK,GAAG,EAAE;QAC9C;MACF,CAAC,MAAM,IAAGJ,KAAK,CAACI,KAAK,KAAK,GAAG,IAAIJ,KAAK,CAACI,KAAK,KAAK,GAAG,EAAE;QACpD,MAAM,IAAIX,KAAK,CAAC,gCAAgC,CAAC;MACnD,CAAC,MAAM,IAAGO,KAAK,CAACI,KAAK,KAAK,GAAG,EAAE;QAC7B,MAAM,IAAIX,KAAK,CAAC,sCAAsC,CAAC;MACzD;MACA;IACF,CAAC,MAAM;MACL;IACF;EACF;EAEA,OAAOF,IAAI,CAACe,KAAK,CAACd,OAAO,EAAEK,MAAM,CAAC;AACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}