{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nvar ajv_1 = require(\"ajv\");\nvar ajv_formats_1 = require(\"ajv-formats\");\nvar openapi2Schema = require('./resources/openapi-2.0.json');\nvar openapi3Schema = require('./resources/openapi-3.0.json');\nvar merge = require('lodash.merge');\nvar OpenAPISchemaValidator = /** @class */function () {\n  function OpenAPISchemaValidator(args) {\n    var v = new ajv_1[\"default\"]({\n      allErrors: true,\n      strict: false\n    });\n    (0, ajv_formats_1[\"default\"])(v);\n    var version = args && parseInt(String(args.version), 10) || 2;\n    var schema = merge({}, version === 2 ? openapi2Schema : openapi3Schema, args ? args.extensions : {});\n    v.addSchema(schema);\n    this.validator = v.compile(schema);\n  }\n  OpenAPISchemaValidator.prototype.validate = function (openapiDoc) {\n    if (!this.validator(openapiDoc)) {\n      return {\n        errors: this.validator.errors\n      };\n    } else {\n      return {\n        errors: []\n      };\n    }\n  };\n  return OpenAPISchemaValidator;\n}();\nexports[\"default\"] = OpenAPISchemaValidator;","map":{"version":3,"names":["ajv_1","require","ajv_formats_1","openapi2Schema","openapi3Schema","merge","OpenAPISchemaValidator","args","v","allErrors","strict","version","parseInt","String","schema","extensions","addSchema","validator","compile","prototype","validate","openapiDoc","errors"],"sources":["../index.ts"],"sourcesContent":[null],"mappings":";;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AACA,IAAME,cAAc,GAAGF,OAAO,CAAC,8BAA8B,CAAC;AAC9D,IAAMG,cAAc,GAAGH,OAAO,CAAC,8BAA8B,CAAC;AAC9D,IAAMI,KAAK,GAAGJ,OAAO,CAAC,cAAc,CAAC;AAoBrC,IAAAK,sBAAA;EAEE,SAAAA,uBAAYC,IAAgC;IAC1C,IAAMC,CAAC,GAAG,IAAIR,KAAA,WAAG,CAAC;MAAES,SAAS,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAK,CAAE,CAAC;IACrD,IAAAR,aAAA,WAAU,EAACM,CAAC,CAAC;IACb,IAAMG,OAAO,GAAIJ,IAAI,IAAIK,QAAQ,CAACC,MAAM,CAACN,IAAI,CAACI,OAAO,CAAC,EAAE,EAAE,CAAC,IAAK,CAAC;IACjE,IAAMG,MAAM,GAAGT,KAAK,CAClB,EAAE,EACFM,OAAO,KAAK,CAAC,GAAGR,cAAc,GAAGC,cAAc,EAC/CG,IAAI,GAAGA,IAAI,CAACQ,UAAU,GAAG,EAAE,CAC5B;IACDP,CAAC,CAACQ,SAAS,CAACF,MAAM,CAAC;IACnB,IAAI,CAACG,SAAS,GAAGT,CAAC,CAACU,OAAO,CAACJ,MAAM,CAAC;EACpC;EAEOR,sBAAA,CAAAa,SAAA,CAAAC,QAAQ,GAAf,UAAgBC,UAA4B;IAC1C,IAAI,CAAC,IAAI,CAACJ,SAAS,CAACI,UAAU,CAAC,EAAE;MAC/B,OAAO;QAAEC,MAAM,EAAE,IAAI,CAACL,SAAS,CAACK;MAAM,CAAE;KACzC,MAAM;MACL,OAAO;QAAEA,MAAM,EAAE;MAAE,CAAE;;EAEzB,CAAC;EACH,OAAAhB,sBAAC;AAAD,CAAC,CAtBD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}